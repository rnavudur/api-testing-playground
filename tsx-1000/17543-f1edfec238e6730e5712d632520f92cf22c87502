{"code":"var __defProp=Object.defineProperty;var __name=(target,value)=>__defProp(target,\"name\",{value,configurable:true});import bcrypt from\"bcryptjs\";import{db}from\"./db\";import{users}from\"@shared/schema\";import{eq}from\"drizzle-orm\";class AuthService{static{__name(this,\"AuthService\")}async hashPassword(password){return bcrypt.hash(password,12)}async verifyPassword(password,hashedPassword){return bcrypt.compare(password,hashedPassword)}async createUser(userData){const hashedPassword=await this.hashPassword(userData.password);const[user]=await db.insert(users).values({...userData,password:hashedPassword}).returning();return user}async findUserByEmail(email){const[user]=await db.select().from(users).where(eq(users.email,email));return user}async findUserByUsername(username){const[user]=await db.select().from(users).where(eq(users.username,username));return user}async findUserById(id){const[user]=await db.select().from(users).where(eq(users.id,id));return user}async authenticateUser(credentials){const user=await this.findUserByEmail(credentials.email);if(!user){return null}const isValidPassword=await this.verifyPassword(credentials.password,user.password);if(!isValidPassword){return null}return user}}const authService=new AuthService;export{AuthService,authService};\n","warnings":[],"map":{"version":3,"mappings":"kHAAA,OAAO,WAAY,WACnB,OAAS,OAAU,OACnB,OAAS,UAAa,iBACtB,OAAS,OAAU,cAGZ,MAAM,WAAY,CANzB,MAMyB,4BACvB,MAAM,aAAa,SAAmC,CACpD,OAAO,OAAO,KAAK,SAAU,EAAE,CACjC,CAEA,MAAM,eAAe,SAAkB,eAA0C,CAC/E,OAAO,OAAO,QAAQ,SAAU,cAAc,CAChD,CAEA,MAAM,WAAW,SAAiE,CAChF,MAAM,eAAiB,MAAM,KAAK,aAAa,SAAS,QAAQ,EAEhE,KAAM,CAAC,IAAI,EAAI,MAAM,GAClB,OAAO,KAAK,EACZ,OAAO,CACN,GAAG,SACH,SAAU,cACZ,CAAC,EACA,UAAU,EAEb,OAAO,IACT,CAEA,MAAM,gBAAgB,MAA0C,CAC9D,KAAM,CAAC,IAAI,EAAI,MAAM,GAClB,OAAO,EACP,KAAK,KAAK,EACV,MAAM,GAAG,MAAM,MAAO,KAAK,CAAC,EAE/B,OAAO,IACT,CAEA,MAAM,mBAAmB,SAA6C,CACpE,KAAM,CAAC,IAAI,EAAI,MAAM,GAClB,OAAO,EACP,KAAK,KAAK,EACV,MAAM,GAAG,MAAM,SAAU,QAAQ,CAAC,EAErC,OAAO,IACT,CAEA,MAAM,aAAa,GAAuC,CACxD,KAAM,CAAC,IAAI,EAAI,MAAM,GAClB,OAAO,EACP,KAAK,KAAK,EACV,MAAM,GAAG,MAAM,GAAI,EAAE,CAAC,EAEzB,OAAO,IACT,CAEA,MAAM,iBAAiB,YAAiD,CACtE,MAAM,KAAO,MAAM,KAAK,gBAAgB,YAAY,KAAK,EAEzD,GAAI,CAAC,KAAM,CACT,OAAO,IACT,CAEA,MAAM,gBAAkB,MAAM,KAAK,eAAe,YAAY,SAAU,KAAK,QAAQ,EAErF,GAAI,CAAC,gBAAiB,CACpB,OAAO,IACT,CAEA,OAAO,IACT,CACF,CAEO,MAAM,YAAc,IAAI","names":[],"ignoreList":[],"sources":["/home/runner/workspace/server/auth.ts"],"sourcesContent":[null]}}